<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>세종호랑이</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Top Header: Title & User Info -->
        <header class="dashboard-header glass-panel flat-header">
            <div class="header-left">
                <div class="site-title">한규호의 홈페이지입니다</div>
            </div>
            <div class="header-right">
                <span id="date" class="header-date"></span>
                <div class="auth-separator"></div>
                <div class="auth-wrapper">
                    <span id="user-info"></span>
                    <button id="auth-btn">로그인</button>
                </div>
            </div>
        </header>

        <!-- Main Bento Grid -->
        <main class="bento-grid">
            <!-- Left Column: Daily Life -->
            <aside class="grid-column left-col">
                <!-- Ryeo-eun's Card -->
                <div id="ryeoeun-panel" class="bento-card glass-panel">
                    <div class="card-header">
                        <h3>려은의 일상 📸</h3>
                    </div>
                    <div id="ryeoeun-daily-content" class="daily-content-area">
                        <img id="ryeoeun-display-img" src="ryeoeun_daily_life_1766300838840.png" alt="려은의 일상 사진"
                            class="daily-img">
                        <button id="ryeoeun-download-btn" class="download-btn" style="display: none;">📷 사진
                            다운로드</button>
                        <p id="ryeoeun-display-desc" class="daily-desc">따뜻한 햇살과 함께하는 소소한 기록입니다. ✨</p>

                        <div id="ryeoeun-admin-editor" class="admin-daily-editor" style="display: none;">
                            <p class="editor-label">관리자 모드</p>
                            <input type="file" id="ryeoeun-img-upload" accept="image/*" class="file-input">
                            <textarea id="ryeoeun-desc-edit" placeholder="내용을 입력하세요..."
                                class="desc-textarea"></textarea>
                            <button id="ryeoeun-save-daily-btn" class="save-daily-btn">저장</button>
                        </div>
                    </div>
                </div>

                <!-- Yunu's Card -->
                <div id="yunu-panel" class="bento-card glass-panel">
                    <div class="card-header">
                        <h3>윤우의 일상 📸</h3>
                    </div>
                    <div id="yunu-daily-content" class="daily-content-area">
                        <img id="yunu-display-img" src="yunu_daily_life_placeholder_1766312088228.png" alt="윤우의 일상 사진"
                            class="daily-img">
                        <button id="yunu-download-btn" class="download-btn" style="display: none;">📷 사진 다운로드</button>
                        <p id="yunu-display-desc" class="daily-desc">윤우의 하루하루를 담은 공간입니다. ✨</p>

                        <div id="yunu-admin-editor" class="admin-daily-editor" style="display: none;">
                            <p class="editor-label">관리자 모드</p>
                            <input type="file" id="yunu-img-upload" accept="image/*" class="file-input">
                            <textarea id="yunu-desc-edit" placeholder="내용을 입력하세요..." class="desc-textarea"></textarea>
                            <button id="yunu-save-daily-btn" class="save-daily-btn">저장</button>
                        </div>
                    </div>
                </div>

                <!-- Lecture Card (C Grade Only) -->
                <div id="lecture-panel" class="bento-card glass-panel" style="margin-top: 25px;">
                    <div class="card-header">
                        <h3>특별 강의 🎬</h3>
                    </div>
                    <div class="video-container">
                        <iframe id="lecture-video" width="100%" height="315"
                            src="https://www.youtube.com/embed/coi0usPOiKU" title="YouTube video player" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius:12px; border:1px solid var(--glass-border);">
                        </iframe>
                        <div id="video-lock-overlay" class="video-lock-overlay">
                            <p style="font-size:1.2rem; margin-bottom:10px;">🔒 <strong>C등급</strong> 전용</p>
                            <small>관리자에게 등급 상향을 요청하세요.</small>
                        </div>
                    </div>
                    <button id="open-video-popup-btn" class="secondary-btn"
                        style="width:100%; margin-top:10px; display:none;">📺 새 창에서 크게 보기</button>
                </div>
            </aside>

            <!-- Center Column: Hero & Focus -->
            <section class="grid-column center-col">
                <div class="hero-section">
                    <h1 id="clock" class="clock-display">00:00:00</h1>
                    <h2 id="greeting" class="greeting-text">안녕하세요!</h2>
                </div>

                <div class="todo-section glass-panel bento-card">
                    <h3>오늘의 활동 및 목표 🎯</h3>
                    <div class="input-group">
                        <input type="text" id="todo-input" placeholder="새로운 목표 추가..." aria-label="할 일 입력">
                        <div class="time-selector-group" style="display:flex; align-items:center; gap:5px;">
                            <select id="todo-hour" aria-label="시"></select> :
                            <select id="todo-minute" aria-label="분"></select>
                        </div>
                        <button id="add-btn">추가</button>
                    </div>
                    <ul id="todo-list" class="todo-list">
                        <!-- Todo items go here -->
                    </ul>
                </div>
            </section>

            <!-- Right Column: Community & Admin -->
            <aside class="grid-column right-col">
                <div class="request-section glass-panel bento-card">
                    <h3>소통의 창 💬</h3>
                    <p class="section-desc">자유롭게 의견을 남겨주세요</p>
                    <div class="request-input-group">
                        <textarea id="request-input" placeholder="메시지를 입력하세요..."></textarea>
                        <button id="send-request-btn">등록하기</button>
                    </div>
                    <div class="request-list-container"
                        style="margin-top: 10px; margin-bottom: 15px; height: 200px; overflow-y: auto;">
                        <ul id="request-list"></ul>
                    </div>
                    <button id="open-deposit-modal-btn" class="secondary-btn" style="width:100%; margin-bottom:15px;">💸
                        입금 확인 요청 (등급 UP)</button>

                    <div id="deposit-list-container"
                        style="margin-top: 10px; background: rgba(0,0,0,0.2); border-radius: 12px; padding: 10px; display: none;">
                        <h4 style="font-size: 0.9rem; color: var(--accent-secondary); margin-bottom: 8px;">💸 입금 요청 내역
                            (관리자용)</h4>
                        <ul id="deposit-list" style="list-style: none; padding: 0;"></ul>
                    </div>

                    <div id="user-management-section" style="display: none;">
                        <hr class="divider">
                        <h3>회원 관리 🛡️</h3>
                        <div class="user-list-container">
                            <ul id="user-list"></ul>
                        </div>
                    </div>

                    <div style="margin-top: 20px; text-align: center;">
                        <span id="visitor-count" class="visitor-display-bottom"></span>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal-overlay">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3 id="modal-title">로그인</h3>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-tabs">
                <button id="tab-login" class="tab-btn active">로그인</button>
                <button id="tab-register" class="tab-btn">회원가입</button>
            </div>
            <div class="auth-form">
                <input type="email" id="auth-email" placeholder="이메일">
                <input type="text" id="auth-username" placeholder="이름 (닉네임)">
                <input type="password" id="auth-password" placeholder="비밀번호 (6자 이상)">
                <button id="auth-submit-btn">로그인</button>
            </div>
        </div>
    </div>

    <!-- Deposit Request Modal -->
    <div id="deposit-modal" class="modal-overlay">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3>💸 입금 확인 요청</h3>
                <button id="close-deposit-modal" class="close-btn">&times;</button>
            </div>
            <div class="auth-form">
                <input type="text" id="deposit-name" placeholder="입금자명 (예: 홍길동)">
                <input type="number" id="deposit-amount" placeholder="입금 금액 (예: 1)">
                <p style="font-size: 0.8rem; opacity: 0.7; margin-bottom: 5px;">* 1원: B등급 / 2원: C등급</p>
                <button id="deposit-submit-btn">요청 보내기</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>